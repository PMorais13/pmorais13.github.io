import{a as p}from"./chunk-YHPZIFDS.js";import{a}from"./chunk-GHZSMKUY.js";import{X as r,_ as l,da as i,k as c}from"./chunk-YKXOHSBZ.js";var n=class o{constructor(e,t){this.employeesService=e;this.sectorsService=t}employeesSubject=new c(null);sectorsSubject=new c(null);employees$=this.employeesSubject.asObservable();sectors$=this.sectorsSubject.asObservable();loadEmployees(){return this.employeesSubject.value?this.employees$:this.employeesService.getEmployees().pipe(r(e=>this.employeesSubject.next(e)))}loadSectors(){return this.sectorsSubject.value?this.sectors$:this.sectorsService.getSectors().pipe(r(e=>this.sectorsSubject.next(e)))}addSector(e){return this.sectorsService.addSector(e).pipe(r(t=>{let s=this.sectorsSubject.value||[];this.sectorsSubject.next([...s,t])}))}removeSector(e){return this.sectorsService.removeSector(e).pipe(r(()=>{let t=this.sectorsSubject.value||[];this.sectorsSubject.next(t.filter(s=>s.id!==e))}))}reset(){this.employeesSubject.next(null),this.sectorsSubject.next(null)}static \u0275fac=function(t){return new(t||o)(i(a),i(p))};static \u0275prov=l({token:o,factory:o.\u0275fac,providedIn:"root"})};export{n as a};
