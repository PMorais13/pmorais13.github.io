import{a as te}from"./chunk-U65QW7TC.js";import{a as ee}from"./chunk-UYE33M3Y.js";import{a as B,b as X}from"./chunk-OBUIYPIE.js";import{a as Q,d as G,e as J}from"./chunk-5CRZFFKU.js";import"./chunk-53D4Q4VK.js";import"./chunk-UOP2MRXY.js";import{a as N,c as j}from"./chunk-2ULKRMEI.js";import{d as k,h as L}from"./chunk-RR53PIHF.js";import{a as Z}from"./chunk-4BCJUKHO.js";import{a as K}from"./chunk-SVXT45U7.js";import"./chunk-QAGVWGQC.js";import{a as A,f as U,g as Y}from"./chunk-3RTCAAWZ.js";import"./chunk-E7XOTRJ6.js";import"./chunk-EBI4RQUP.js";import{n as W,q as $,t as q,y as z}from"./chunk-KONJ5OEV.js";import"./chunk-DI2HMTWA.js";import"./chunk-6XAAMA5M.js";import"./chunk-IMBPNYJZ.js";import"./chunk-NA4IISU4.js";import"./chunk-AZWIA2G5.js";import{$b as P,Db as c,Mb as a,Md as M,Nb as m,Nd as y,Ob as R,Sb as I,Sc as w,Ub as d,Vb as E,_b as T,_c as b,ac as V,cb as D,db as n,ec as p,fc as _,gc as H,jb as l,oa as f,pa as v,qb as u,qc as g,rc as h,wa as O,wb as C}from"./chunk-YKXOHSBZ.js";var se=["scrollContainer"];function le(o,t){if(o&1){let e=I();a(0,"div",5),d("click",function(){let r=f(e).$implicit,s=E();return v(s.navigateTo(r.route))}),a(1,"mat-icon",6),p(2),m(),a(3,"div",7),p(4),m()()}if(o&2){let e=t.$implicit;n(2),_(e.icon),n(2),_(e.name)}}var S=class o{constructor(t){this.router=t}items=[];scrollContainer;isDragging=!1;startX=0;scrollStart=0;onWheel(t){let e=this.scrollContainer?.nativeElement;e&&t.deltaY!==0&&this.isMouseOver(e)&&(t.preventDefault(),e.scrollLeft+=t.deltaY)}stopDrag(){this.isDragging=!1}navigateTo(t){this.router.navigate([t])}ngAfterViewInit(){}onMouseDown(t){this.scrollContainer&&(this.isDragging=!0,this.startX=t.pageX-this.scrollContainer.nativeElement.offsetLeft,this.scrollStart=this.scrollContainer.nativeElement.scrollLeft)}onMouseMove(t){if(!this.isDragging||!this.scrollContainer)return;let i=(t.pageX-this.scrollContainer.nativeElement.offsetLeft-this.startX)*1.2;this.scrollContainer.nativeElement.scrollLeft=this.scrollStart-i,t.preventDefault()}onMouseUp(){this.isDragging=!1}onMouseLeave(){this.isDragging=!1}isMouseOver(t){let e=t.getBoundingClientRect();return window.event instanceof MouseEvent&&window.event.clientX>=e.left&&window.event.clientX<=e.right&&window.event.clientY>=e.top&&window.event.clientY<=e.bottom}static \u0275fac=function(e){return new(e||o)(l(k))};static \u0275cmp=u({type:o,selectors:[["app-favorites"]],viewQuery:function(e,i){if(e&1&&T(se,5),e&2){let r;P(r=V())&&(i.scrollContainer=r.first)}},hostBindings:function(e,i){e&1&&d("wheel",function(s){return i.onWheel(s)})("mouseup",function(){return i.stopDrag()},!1,D)},inputs:{items:"items"},decls:7,vars:4,consts:[["scrollContainer",""],[1,"favorites"],[1,"favorites__title"],[1,"favorites__container",3,"mousedown","mousemove","mouseup","mouseleave"],["class","favorites__card",3,"click",4,"ngFor","ngForOf"],[1,"favorites__card",3,"click"],[1,"favorites__icon"],[1,"favorites__name"]],template:function(e,i){if(e&1){let r=I();a(0,"div",1)(1,"h2",2),p(2),g(3,"translate"),m(),a(4,"div",3,0),d("mousedown",function(x){return f(r),v(i.onMouseDown(x))})("mousemove",function(x){return f(r),v(i.onMouseMove(x))})("mouseup",function(){return f(r),v(i.onMouseUp())})("mouseleave",function(){return f(r),v(i.onMouseLeave())}),C(6,le,5,2,"div",4),m()()}e&2&&(n(2),_(h(3,2,"favorites.title")),n(4),c("ngForOf",i.items))},dependencies:[b,w,L,X,B,y,M],styles:[".favorites__container[_ngcontent-%COMP%]{display:flex;gap:12px;overflow-x:auto;overflow-y:hidden;padding-bottom:8px;cursor:grab;white-space:nowrap;scrollbar-width:auto}.favorites__container[_ngcontent-%COMP%]:active{cursor:grabbing}.favorites__container[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.favorites__container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0003;border-radius:4px}.favorites__card[_ngcontent-%COMP%]{width:100px;height:100px;flex-shrink:0;background:#f5f5f5;border-radius:8px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:8px;box-shadow:0 1px 3px #0000001a;cursor:pointer;transition:box-shadow .2s,transform .2s}.favorites__card[_ngcontent-%COMP%]:active{cursor:grabbing}.favorites__card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 10px #0003;transform:translateY(-2px)}.favorites__icon[_ngcontent-%COMP%]{margin-bottom:6px;color:#3f51b5}.favorites__name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}"]})};function me(o,t){if(o&1&&(a(0,"mat-option",4),p(1),g(2,"translate"),m()),o&2){let e=t.$implicit;c("value",e),n(),H(" ",h(2,2,"roleSwitcher.option."+e)," ")}}var F=class o{constructor(t,e){this.authService=t;this.destroyRef=e}roleControl=new $("funcionario",{nonNullable:!0});roles=Object.values(N);ngOnInit(){this.authService.role$.pipe(K(this.destroyRef)).subscribe(t=>{t&&this.roleControl.setValue(t,{emitEvent:!1})})}onChange(t){this.authService.updateRole(t)}static \u0275fac=function(e){return new(e||o)(l(j),l(O))};static \u0275cmp=u({type:o,selectors:[["app-role-switcher"]],decls:7,vars:5,consts:[[1,"role-switcher"],["appearance","outline",1,"role-switcher__field"],[3,"selectionChange","formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),p(3),g(4,"translate"),m(),a(5,"mat-select",2),d("selectionChange",function(s){return i.onChange(s.value)}),C(6,me,3,4,"mat-option",3),m()()()),e&2&&(n(3),_(h(4,3,"roleSwitcher.label")),n(2),c("formControl",i.roleControl),n(),c("ngForOf",i.roles))},dependencies:[b,w,z,W,q,Y,U,A,J,G,Q,y,M],styles:[".role-switcher__field[_ngcontent-%COMP%]{width:200px}"]})};var re=class o{constructor(t,e,i){this.headerService=t;this.i18n=e;this.favoritesService=i;this.favorites=this.favoritesService.list,this.headerService.setTitle(this.i18n.translate.instant("menu.home"))}favorites;ngOnInit(){}static \u0275fac=function(e){return new(e||o)(l(ee),l(Z),l(te))};static \u0275cmp=u({type:o,selectors:[["app-home"]],decls:2,vars:1,consts:[[3,"items"]],template:function(e,i){e&1&&R(0,"app-favorites",0)(1,"app-role-switcher"),e&2&&c("items",i.favorites())},dependencies:[S,F],styles:["[_nghost-%COMP%]{display:block}app-role-switcher[_ngcontent-%COMP%]{margin-top:16px}"]})};export{re as HomeComponent};
