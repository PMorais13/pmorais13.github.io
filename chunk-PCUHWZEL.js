import{a as Ee,b as qe,c as Fe,d as Ve}from"./chunk-BVEQJOBM.js";import{a as Be,b as Le,c as Ne,d as Ae,g as je}from"./chunk-Q6YSEL4I.js";import{c as Te}from"./chunk-MTBSRNLK.js";import{a as Se}from"./chunk-UYE33M3Y.js";import{a as ce,b as re}from"./chunk-OBUIYPIE.js";import{a as he,c as be,d as ye,e as Me}from"./chunk-NG3CUKBE.js";import"./chunk-53D4Q4VK.js";import"./chunk-UOP2MRXY.js";import{d as ae}from"./chunk-RR53PIHF.js";import{a as De,b as Pe}from"./chunk-JKKRUTKQ.js";import"./chunk-SGYCFQGT.js";import{a as N}from"./chunk-4BCJUKHO.js";import{a as we}from"./chunk-SVXT45U7.js";import"./chunk-PKTJEQ3B.js";import"./chunk-QAGVWGQC.js";import{a as le,b as V,c as se}from"./chunk-CRFRNBQN.js";import{a as A}from"./chunk-V73ZXADK.js";import{a as me,c as pe,f as ue,g as de,k as Re,l as Oe}from"./chunk-GKOWSGTX.js";import"./chunk-E7XOTRJ6.js";import{a as ne,e as q,f as oe,g as F}from"./chunk-EBI4RQUP.js";import{j as fe,l as v,n as _e,o as ke,r as Ce,u as ge,v as Ie,w as ve,y as xe}from"./chunk-KONJ5OEV.js";import"./chunk-DI2HMTWA.js";import"./chunk-6XAAMA5M.js";import"./chunk-IMBPNYJZ.js";import"./chunk-NA4IISU4.js";import"./chunk-AZWIA2G5.js";import{$b as Y,Cb as J,Db as u,Ib as W,L as x,Mb as o,Md as B,Nb as c,Nd as L,Ob as y,Pb as Q,Qb as U,Sb as D,Sc as te,Tc as P,Ub as f,Vb as d,Zc as ie,_ as z,_b as X,_c as E,ac as Z,da as G,db as a,dc as I,ec as r,fc as p,gc as _,jb as h,oa as C,pa as g,qb as b,qc as s,rc as m,sc as ee,tc as M,wa as K,wb as k,ya as O}from"./chunk-YKXOHSBZ.js";var T=class t{constructor(n){this.http=n}API_URL=oe();CHECKIN_URL=q()?`${this.API_URL}/check-in`:F("checkIn");ATTACH_URL=q()?`${this.API_URL}/check-in/attachments`:F("checkInAttachments");TIME_URL=q()?`${this.API_URL}/check-in/time`:F("time");checkIn(n={}){return this.http.post(this.CHECKIN_URL,n)}uploadAttachment(n){let e=new FormData;return e.append("file",n,n.name),this.http.post(this.ATTACH_URL,e)}getServerTime(){return this.http.get(this.TIME_URL)}static \u0275fac=function(e){return new(e||t)(G(ne))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};function Je(t,n){t&1&&(o(0,"mat-form-field",7)(1,"mat-label"),r(2),s(3,"translate"),c(),y(4,"input",21),c()),t&2&&(a(2),p(m(3,1,"manualCheckIn.time")))}function We(t,n){if(t&1&&(o(0,"span",22),r(1),c()),t&2){let e=d(3);a(),_(" ",e.certificateFile.name," ")}}function Xe(t,n){if(t&1){let e=D();o(0,"button",23),s(1,"translate"),f("click",function(){C(e);let l=d(3);return g(l.removeAttachment())}),o(2,"mat-icon"),r(3,"close"),c()()}t&2&&J("aria-label",m(1,1,"manualCheckIn.removeAttachment"))}function Ye(t,n){t&1&&(o(0,"mat-form-field",7)(1,"mat-label"),r(2),s(3,"translate"),c(),o(4,"mat-select",24)(5,"mat-option",25),r(6),s(7,"translate"),c(),o(8,"mat-option",26),r(9),s(10,"translate"),c()()()),t&2&&(a(2),p(m(3,3,"manualCheckIn.certificateType")),a(4),p(m(7,5,"manualCheckIn.certificateDay")),a(3),p(m(10,7,"manualCheckIn.certificateHours")))}function Ze(t,n){t&1&&(o(0,"mat-form-field",7)(1,"mat-label"),r(2),s(3,"translate"),c(),o(4,"mat-select",27)(5,"mat-option",28),r(6),s(7,"translate"),c(),o(8,"mat-option",29),r(9),s(10,"translate"),c(),o(11,"mat-option",30),r(12),s(13,"translate"),c(),o(14,"mat-option",31),r(15),s(16,"translate"),c()()()),t&2&&(a(2),p(m(3,5,"manualCheckIn.reason")),a(4),p(m(7,7,"manualCheckIn.reasonForgot")),a(3),p(m(10,9,"manualCheckIn.reasonTechnical")),a(3),p(m(13,11,"manualCheckIn.reasonMeeting")),a(3),p(m(16,13,"manualCheckIn.reasonOther")))}function et(t,n){if(t&1){let e=D();Q(0),o(1,"form",6)(2,"mat-form-field",7)(3,"mat-label"),r(4),s(5,"translate"),c(),y(6,"input",8)(7,"mat-datepicker-toggle",9)(8,"mat-datepicker",null,2),c(),k(10,Je,5,3,"mat-form-field",10),o(11,"div",11)(12,"label",12),r(13),s(14,"translate"),c(),o(15,"div",13)(16,"button",14),f("click",function(){C(e);let l=I(22);return g(l.click())}),r(17),s(18,"translate"),c(),k(19,We,2,1,"span",15)(20,Xe,4,3,"button",16),o(21,"input",17,3),f("change",function(l){C(e);let w=d(2);return g(w.onFileChange(l))}),c()()(),k(23,Ye,11,9,"mat-form-field",10)(24,Ze,17,15,"mat-form-field",10),o(25,"div",18)(26,"button",19),f("click",function(){C(e);let l=d(2);return g(l.cancel())}),r(27),s(28,"translate"),c(),o(29,"button",20),f("click",function(){C(e);let l=d(2);return g(l.submit())}),r(30),s(31,"translate"),c()()(),U()}if(t&2){let e=I(9),i=d(2);a(),u("formGroup",i.form),a(3),p(m(5,13,"manualCheckIn.date")),a(2),u("matDatepicker",e),a(),u("for",e),a(3),u("ngIf",i.showTimeField()),a(3),_(" ",m(14,15,"manualCheckIn.attachment")," "),a(4),_(" ",m(18,17,"manualCheckIn.chooseFile")," "),a(2),u("ngIf",i.certificateFile),a(),u("ngIf",i.certificateFile),a(3),u("ngIf",i.certificateFile),a(),u("ngIf",!i.certificateFile),a(3),p(m(28,19,"manualCheckIn.cancel")),a(3),_(" ",m(31,21,"manualCheckIn.confirm")," ")}}function tt(t,n){t&1&&(o(0,"div",32),y(1,"app-loader"),o(2,"span",33),r(3),s(4,"translate"),c()()),t&2&&(a(3),p(m(4,1,"manualCheckIn.loading")))}function it(t,n){if(t&1&&(Q(0),k(1,et,32,23,"ng-container",5)(2,tt,5,3,"ng-template",null,1,M),U()),t&2){let e=I(3),i=d();a(),u("ngIf",!i.loading)("ngIfElse",e)}}function nt(t,n){if(t&1){let e=D();o(0,"div",34)(1,"p",35),r(2),s(3,"translate"),c(),o(4,"div",18)(5,"button",36),f("click",function(){C(e);let l=d();return g(l.cancel())}),r(6),s(7,"translate"),c(),o(8,"button",37),f("click",function(){C(e);let l=d();return g(l.downloadReceipt())}),r(9),s(10,"translate"),c()()()}t&2&&(a(2),_("\u2705 ",m(3,3,"manualCheckIn.success"),""),a(4),p(m(7,5,"manualCheckIn.close")),a(3),_(" ",m(10,7,"manualCheckIn.downloadReceipt")," "))}var S=class t{constructor(n,e,i,l,w,j,H){this.fb=n;this.dialogRef=e;this.data=i;this.i18n=l;this.snackBar=w;this.checkInService=j;this.destroyRef=H;this.quickMode=i?.quickMode??!1,this.quickMode&&(this.title="manualCheckIn.receiptTitle"),this.form=this.fb.group({date:this.fb.control(null,v.required),time:this.fb.control(null,v.required),reason:this.fb.control(null,v.required),certificateType:this.fb.control(null),attachment:this.fb.control(null)}),this.form.controls.certificateType.valueChanges.pipe(we(this.destroyRef)).subscribe(()=>this.updateTimeValidators())}quickMode=!1;form;loading=!1;success=!1;submittedData=null;title="manualCheckIn.title";certificateFile=null;uploadedFileName=null;ngOnInit(){this.quickMode&&this.performQuickCheckIn()}submit(){if(this.form.valid){this.loading=!0,this.dialogRef.disableClose=!0;let n=this.form.controls.date.value,e=this.form.controls.time.value,i=this.form.controls.reason.value,l=this.form.controls.certificateType.value,w=this.form.controls.attachment.value;if(!n)return;let j=new Date(n).toLocaleDateString("pt-BR");this.submittedData={date:j,time:e,reason:i,certificateType:l,attachmentName:w};let H={date:j,time:e,reason:i,certificateType:l,attachmentName:w};this.checkInService.checkIn(H).pipe(x()).subscribe({next:()=>{this.loading=!1,this.dialogRef.disableClose=!1,this.success=!0},error:()=>{this.loading=!1,this.dialogRef.disableClose=!1}})}}performQuickCheckIn(){this.loading=!0,this.dialogRef.disableClose=!0,this.checkInService.checkIn().pipe(x()).subscribe({next:n=>{let e=new Date(n.timestamp);this.submittedData={date:e.toLocaleDateString("pt-BR"),time:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),reason:"registro-rapido"},this.loading=!1,this.dialogRef.disableClose=!1,this.success=!0},error:()=>{this.loading=!1,this.dialogRef.disableClose=!1}})}cancel(){this.dialogRef.close(this.success?this.submittedData:null)}onFileChange(n){let e=n.target,i=e.files&&e.files.length?e.files[0]:null;if(i&&!this.isValidFileType(i)){this.snackBar.open(this.i18n.translate.instant("manualCheckIn.invalidFileType"),this.i18n.translate.instant("manualCheckIn.close"),{duration:3e3,horizontalPosition:"right",verticalPosition:"top"}),e.value="",this.certificateFile=null,this.form.controls.attachment.setValue(null);return}this.certificateFile=i,i?(this.checkInService.uploadAttachment(i).pipe(x()).subscribe(()=>{this.uploadedFileName=i.name,this.form.controls.attachment.setValue(i.name)}),this.form.controls.certificateType.addValidators(v.required),this.updateReasonValidators()):(this.form.controls.attachment.setValue(null),this.form.controls.certificateType.clearValidators(),this.form.controls.certificateType.setValue(null),this.updateReasonValidators()),this.form.controls.certificateType.updateValueAndValidity(),this.updateTimeValidators()}removeAttachment(){this.certificateFile=null,this.uploadedFileName=null,this.form.controls.attachment.setValue(null),this.form.controls.certificateType.setValue(null),this.form.controls.certificateType.clearValidators(),this.form.controls.certificateType.updateValueAndValidity(),this.updateReasonValidators(),this.updateTimeValidators()}updateReasonValidators(){this.certificateFile?(this.form.controls.reason.clearValidators(),this.form.controls.reason.setValue(null)):this.form.controls.reason.addValidators(v.required),this.form.controls.reason.updateValueAndValidity()}showTimeField(){return!this.certificateFile||this.form.controls.certificateType.value!=="day"}updateTimeValidators(){this.form.controls.certificateType.value==="day"?(this.form.controls.time.clearValidators(),this.form.controls.time.setValue(null)):this.form.controls.time.addValidators(v.required),this.form.controls.time.updateValueAndValidity()}isValidFileType(n){return["application/pdf","image/png","image/jpeg"].includes(n.type)}downloadReceipt(){if(!this.submittedData)return;let n=`
      ${this.i18n.translate.instant("manualCheckIn.pdfTitle")}

      ${this.i18n.translate.instant("manualCheckIn.date")}: ${this.submittedData.date}
      ${this.i18n.translate.instant("manualCheckIn.time")}: ${this.submittedData.time}
      ${this.i18n.translate.instant("manualCheckIn.reason")}: ${this.getReasonLabel(this.submittedData.reason)}
    `,e=new Blob([n],{type:"application/pdf"}),i=URL.createObjectURL(e),l=document.createElement("a");l.href=i,l.download="comprovante-ponto.pdf",l.click(),URL.revokeObjectURL(i)}getReasonLabel(n){switch(n){case"esqueci":return this.i18n.translate.instant("manualCheckIn.reasonForgot");case"problema-tecnico":return this.i18n.translate.instant("manualCheckIn.reasonTechnical");case"reuniao-externa":return this.i18n.translate.instant("manualCheckIn.reasonMeeting");default:return this.i18n.translate.instant("manualCheckIn.reasonOther")}}static \u0275fac=function(e){return new(e||t)(h(ve),h(Be),h(Le),h(N),h(De),h(T),h(K))};static \u0275cmp=b({type:t,selectors:[["app-manual-check-in"]],decls:6,vars:5,consts:[["successBlock",""],["loadingBlock",""],["picker",""],["fileInput",""],["mat-dialog-title","",1,"manual-check-in__title"],[4,"ngIf","ngIfElse"],[1,"manual-check-in__form",3,"formGroup"],["appearance","fill"],["matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["appearance","fill",4,"ngIf"],[1,"manual-check-in__file-field"],["for","attachment",1,"manual-check-in__file-label"],[1,"manual-check-in__file-wrapper"],["mat-stroked-button","","type","button",3,"click"],["class","manual-check-in__file-name",4,"ngIf"],["mat-icon-button","","type","button","class","manual-check-in__remove-file",3,"click",4,"ngIf"],["id","attachment","type","file","hidden","",1,"manual-check-in__file-input",3,"change"],[1,"manual-check-in__actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","button",3,"click"],["matInput","","type","time","formControlName","time"],[1,"manual-check-in__file-name"],["mat-icon-button","","type","button",1,"manual-check-in__remove-file",3,"click"],["formControlName","certificateType"],["value","day"],["value","hours"],["formControlName","reason"],["value","esqueci"],["value","problema-tecnico"],["value","reuniao-externa"],["value","outro"],[1,"manual-check-in__loader"],[1,"manual-check-in__loader-text"],[1,"manual-check-in__success"],[1,"message"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){if(e&1&&(o(0,"h2",4),r(1),s(2,"translate"),c(),k(3,it,4,2,"ng-container",5)(4,nt,11,9,"ng-template",null,0,M)),e&2){let l=I(5);a(),_(" ",m(2,3,i.title)," "),a(2),u("ngIf",!i.success)("ngIfElse",l)}},dependencies:[E,P,je,Ae,de,ue,me,pe,Oe,Re,Ve,Ee,qe,Fe,se,V,le,re,ce,Te,xe,Ce,fe,_e,ke,ge,Ie,be,he,Me,ye,Pe,A,L,B],styles:[".manual-check-in__title[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;color:#333}.manual-check-in__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;padding:0 1rem 1rem;min-width:320px}.manual-check-in__form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.manual-check-in__form[_ngcontent-%COMP%]   .manual-check-in__file-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.manual-check-in__form[_ngcontent-%COMP%]   .manual-check-in__file-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 0}.manual-check-in__form[_ngcontent-%COMP%]   .manual-check-in__file-name[_ngcontent-%COMP%]{font-size:.875rem}.manual-check-in__form[_ngcontent-%COMP%]   .manual-check-in__remove-file[_ngcontent-%COMP%]{line-height:1}.manual-check-in__form[_ngcontent-%COMP%]   .manual-check-in__file-input[_ngcontent-%COMP%]{display:none}.manual-check-in__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:1rem}.manual-check-in__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100px;font-weight:500}.manual-check-in__loader[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;margin-top:2rem}.manual-check-in__loader-text[_ngcontent-%COMP%]{font-size:1rem;color:#616161}.manual-check-in__success[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2rem;padding:2rem 1rem}.manual-check-in__success[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;color:#388e3c}.manual-check-in__success[_ngcontent-%COMP%]   .manual-check-in__actions[_ngcontent-%COMP%]{gap:1rem}"]})};function at(t,n){if(t&1&&(o(0,"h2",3),r(1),s(2,"date"),c()),t&2){let e=d();a(),p(ee(2,1,e.clock,"HH:mm:ss"))}}function ot(t,n){t&1&&y(0,"app-loader")}function ct(t,n){if(t&1&&(o(0,"span",14),r(1," \u2714 "),o(2,"span",15),r(3),s(4,"translate"),c(),r(5),c()),t&2){let e=d().$implicit;a(3),p(m(4,2,e[0].label)),a(2),_(": ",e[0].time," ")}}function rt(t,n){if(t&1&&(o(0,"span",14),r(1," \u23F3 "),o(2,"span",15),r(3),s(4,"translate"),c(),r(5,": - "),c()),t&2){let e=d().$implicit;a(3),p(m(4,1,e[0].label))}}function lt(t,n){if(t&1&&(o(0,"span",14),r(1," \u2714 "),o(2,"span",15),r(3),s(4,"translate"),c(),r(5),c()),t&2){let e=d().$implicit;a(3),p(m(4,2,e[1].label)),a(2),_(": ",e[1].time," ")}}function st(t,n){if(t&1&&(o(0,"span",14),r(1," \u23F3 "),o(2,"span",15),r(3),s(4,"translate"),c(),r(5,": - "),c()),t&2){let e=d().$implicit;a(3),p(m(4,1,e[1].label))}}function mt(t,n){if(t&1&&(o(0,"li",12),k(1,ct,6,4,"span",13)(2,rt,6,3,"ng-template",null,0,M)(4,lt,6,4,"span",13)(5,st,6,3,"ng-template",null,1,M),c()),t&2){let e=n.$implicit,i=I(3),l=I(6);a(),u("ngIf",e[0].time)("ngIfElse",i),a(3),u("ngIf",e[1].time)("ngIfElse",l)}}var R=class t{constructor(n){this.checkInService=n}checkIn=new O;viewRecords=new O;manualCheckIn=new O;clock;isClockLoaded=!1;intervalId;history=[{label:"quickCheckIn.entry",time:"08:00"},{label:"quickCheckIn.lunch",time:"12:00"},{label:"quickCheckIn.return",time:null},{label:"quickCheckIn.exit",time:null}];get historyPairs(){return[[this.history[0],this.history[2]],[this.history[1],this.history[3]]]}ngOnInit(){this.checkInService.getServerTime().pipe(x()).subscribe(n=>{let e=new Date(n.timestamp).getTime(),i=Date.now();this.isClockLoaded=!0;let l=Date.now()-i;this.clock=new Date(e+l)})}ngOnDestroy(){clearInterval(this.intervalId)}emitCheckIn(){this.checkIn.emit()}emitViewRecords(){this.viewRecords.emit()}emitManualCheckIn(){this.manualCheckIn.emit()}static \u0275fac=function(e){return new(e||t)(h(T))};static \u0275cmp=b({type:t,selectors:[["app-quick-check-in"]],outputs:{checkIn:"checkIn",viewRecords:"viewRecords",manualCheckIn:"manualCheckIn"},decls:22,vars:19,consts:[["pendingLeft",""],["pendingRight",""],[1,"quick-check-in"],[1,"quick-check-in__clock"],[1,"quick-check-in__status"],[1,"quick-check-in__actions"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click","disabled"],[1,"quick-check-in__history"],[1,"quick-check-in__history-title"],["class","quick-check-in__history-row",4,"ngFor","ngForOf"],[1,"quick-check-in__history-row"],["class","quick-check-in__history-item",4,"ngIf","ngIfElse"],[1,"quick-check-in__history-item"],[1,"label"]],template:function(e,i){e&1&&(o(0,"div",2),k(1,at,3,4,"h2",3)(2,ot,1,0,"app-loader"),o(3,"p",4),r(4),s(5,"translate"),c(),o(6,"div",5)(7,"button",6),f("click",function(){return i.emitCheckIn()}),r(8),s(9,"translate"),c(),o(10,"button",7),f("click",function(){return i.viewRecords.emit()}),r(11),s(12,"translate"),c(),o(13,"button",8),f("click",function(){return i.manualCheckIn.emit()}),r(14),s(15,"translate"),c()(),o(16,"div",9)(17,"h3",10),r(18),s(19,"translate"),c(),o(20,"ul"),k(21,mt,7,4,"li",11),c()()()),e&2&&(a(),W(i.clock?1:2),a(3),p(m(5,9,"quickCheckIn.status")),a(3),u("disabled",!i.isClockLoaded),a(),_("\u{1F552} ",m(9,11,"quickCheckIn.checkIn"),""),a(3),_("\u{1F4CB} ",m(12,13,"quickCheckIn.viewRecords"),""),a(2),u("disabled",!i.isClockLoaded),a(),_("\u270D\uFE0F ",m(15,15,"quickCheckIn.manual"),""),a(4),p(m(19,17,"quickCheckIn.history")),a(3),u("ngForOf",i.historyPairs))},dependencies:[E,te,P,ie,V,A,L,B],styles:[".quick-check-in[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem;gap:2rem}.quick-check-in__clock[_ngcontent-%COMP%]{margin:0;font-size:3rem;font-weight:500;color:#424242}.quick-check-in__status[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;color:#616161}.quick-check-in__actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:1.5rem}.quick-check-in__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:180px;font-weight:500}.quick-check-in__history[_ngcontent-%COMP%]{width:100%;max-width:400px;background:#fafafa;border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px #0000000d}.quick-check-in__history-title[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;font-weight:600;margin-bottom:1rem;color:#333}.quick-check-in__history-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.quick-check-in__history[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:#212121}.quick-check-in__history[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-bottom:1rem;color:#333}.quick-check-in__history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:1rem}.quick-check-in__history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .quick-check-in__history-row[_ngcontent-%COMP%]{padding:1rem 0;font-size:1rem;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center;color:#424242}.quick-check-in__history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .quick-check-in__history-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.quick-check-in__history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .quick-check-in__history-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}"]})};var $e=class t{constructor(n,e,i,l){this.dialog=n;this.router=e;this.headerService=i;this.i18n=l;this.headerService.setTitle(this.i18n.translate.instant("menu.checkIn"))}quickCheckInComponent;openManualCheckIn(){this.dialog.open(S,{width:"400px"}).afterClosed().subscribe(e=>{e&&console.log("Ponto manual recebido no pai:",e)})}handleCheckIn(){this.dialog.open(S,{width:"400px",data:{quickMode:!0},disableClose:!0}).afterClosed().subscribe(e=>{if(e&&this.quickCheckInComponent){let i=this.quickCheckInComponent.history.find(l=>l.time===null);i&&(i.time=e.time)}})}handleViewRecords(){this.router.navigate(["/records"])}static \u0275fac=function(e){return new(e||t)(h(Ne),h(ae),h(Se),h(N))};static \u0275cmp=b({type:t,selectors:[["app-check-in"]],viewQuery:function(e,i){if(e&1&&X(R,5),e&2){let l;Y(l=Z())&&(i.quickCheckInComponent=l.first)}},decls:2,vars:0,consts:[[1,"check-in"],[3,"checkIn","viewRecords","manualCheckIn"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"app-quick-check-in",1),f("checkIn",function(){return i.handleCheckIn()})("viewRecords",function(){return i.handleViewRecords()})("manualCheckIn",function(){return i.openManualCheckIn()}),c()())},dependencies:[R],encapsulation:2})};export{$e as CheckInComponent};
